<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Hadith - Islamic Hub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }

        /* Header and Navigation */
        header {
            background: linear-gradient(135deg, #2c5f2d 0%, #1a4d1b 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #90EE90;
        }

        /* Main Content */
        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .page-title {
            text-align: center;
            color: #2c5f2d;
            margin-bottom: 1rem;
            font-size: 2.5rem;
        }

        .page-subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .hadith-card {
            background: white;
            padding: 3rem;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .hadith-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #2c5f2d;
        }

        .hadith-number {
            color: #2c5f2d;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .hadith-arabic {
            font-size: 1.8rem;
            line-height: 2.5;
            text-align: right;
            direction: rtl;
            color: #2c5f2d;
            margin: 2rem 0;
            padding: 2rem;
            background: #f9f9f9;
            border-radius: 8px;
            border-right: 4px solid #2c5f2d;
        }

        .hadith-english {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #333;
            margin: 2rem 0;
            padding: 1.5rem;
            background: #f0f7f0;
            border-radius: 8px;
            border-left: 4px solid #2c5f2d;
        }

        .hadith-reference {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid #ddd;
        }

        .reference-title {
            color: #2c5f2d;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .reference-text {
            color: #666;
            font-style: italic;
        }

        .hadith-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.8rem 2rem;
            background: #2c5f2d;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #1a4d1b;
        }

        .btn-secondary {
            background: #666;
        }

        .btn-secondary:hover {
            background: #444;
        }

        .loading {
            text-align: center;
            color: #666;
            padding: 3rem;
            font-style: italic;
            font-size: 1.2rem;
        }

        .error {
            background: #ffebee;
            color: #c62828;
            padding: 2rem;
            border-radius: 8px;
            margin: 2rem 0;
            text-align: center;
        }

        .info-section {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .info-section h3 {
            color: #2c5f2d;
            margin-bottom: 1rem;
        }

        .info-section p {
            color: #666;
            line-height: 1.8;
        }

        /* Footer */
        footer {
            background: #2c5f2d;
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-links {
                flex-direction: column;
                gap: 1rem;
            }

            .page-title {
                font-size: 2rem;
            }

            .hadith-card {
                padding: 1.5rem;
            }

            .hadith-arabic {
                font-size: 1.4rem;
                line-height: 2;
            }

            .hadith-english {
                font-size: 1rem;
            }

            .hadith-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Islamic Hub</div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="prayer-tools.html">Prayer Tools</a></li>
                <li><a href="daily-hadith.html">Daily Hadith</a></li>
                <li><a href="calendar.html">Calendar</a></li>
                <li><a href="resources.html">Resources</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <h1 class="page-title">ðŸ“– Daily Hadith</h1>
        <p class="page-subtitle">Authentic sayings of Prophet Muhammad ï·º</p>

        <div class="info-section">
            <h3>About Hadith</h3>
            <p>
                A Hadith is a record of the traditions or sayings of Prophet Muhammad ï·º. 
                The Hadith, along with the Quran, forms the basis of Islamic law and guidance. 
                Each day, we present an authentic Hadith to inspire and guide you in your daily life.
            </p>
        </div>

        <div id="hadithContainer">
            <div class="loading">Loading today's Hadith...</div>
        </div>
    </div>

    <footer>
        <p>&copy; 2026 Islamic Hub. All rights reserved.</p>
        <p>May Allah guide us all on the straight path</p>
    </footer>

    <script>
        // Array of Hadith collections
        const hadithCollections = ['bukhari', 'muslim', 'abudawud', 'tirmidhi', 'nasai', 'ibnmajah'];
        
        // Load Hadith on page load
        window.onload = function() {
            loadDailyHadith();
        };

        // Function to get a consistent daily hadith
        function getDailyHadithNumber() {
            const today = new Date();
            const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
            return dayOfYear % 200 + 1; // Cycle through hadiths based on day of year
        }

        async function loadDailyHadith() {
            const container = document.getElementById('hadithContainer');
            container.innerHTML = '<div class="loading">Loading today\'s Hadith...</div>';
            
            try {
                // Get today's hadith number
                const hadithNumber = getDailyHadithNumber();
                const collectionIndex = new Date().getDay() % hadithCollections.length;
                const collection = hadithCollections[collectionIndex];
                
                // Fetch hadith from API
                const response = await fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/editions/eng-${collection}/${hadithNumber}.json`);
                
                if (!response.ok) {
                    throw new Error('Failed to load hadith');
                }
                
                const data = await response.json();
                const hadith = data.hadiths[0];
                
                // Try to get Arabic version
                let arabicText = '';
                try {
                    const arabicResponse = await fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/editions/ara-${collection}/${hadithNumber}.json`);
                    if (arabicResponse.ok) {
                        const arabicData = await arabicResponse.json();
                        arabicText = arabicData.hadiths[0].text;
                    }
                } catch (e) {
                    console.log('Arabic text not available');
                }
                
                displayHadith(hadith, arabicText, collection);
                
            } catch (error) {
                console.error('Error loading hadith:', error);
                container.innerHTML = `
                    <div class="error">
                        <p>Unable to load today's Hadith. Please try again later.</p>
                        <button class="btn" onclick="loadRandomHadith()" style="margin-top: 1rem;">
                            Load Random Hadith
                        </button>
                    </div>
                `;
            }
        }

        async function loadRandomHadith() {
            const container = document.getElementById('hadithContainer');
            container.innerHTML = '<div class="loading">Loading Hadith...</div>';
            
            try {
                const randomCollection = hadithCollections[Math.floor(Math.random() * hadithCollections.length)];
                const randomNumber = Math.floor(Math.random() * 200) + 1;
                
                const response = await fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/editions/eng-${randomCollection}/${randomNumber}.json`);
                
                if (!response.ok) {
                    throw new Error('Failed to load hadith');
                }
                
                const data = await response.json();
                const hadith = data.hadiths[0];
                
                // Try to get Arabic version
                let arabicText = '';
                try {
                    const arabicResponse = await fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/editions/ara-${randomCollection}/${randomNumber}.json`);
                    if (arabicResponse.ok) {
                        const arabicData = await arabicResponse.json();
                        arabicText = arabicData.hadiths[0].text;
                    }
                } catch (e) {
                    console.log('Arabic text not available');
                }
                
                displayHadith(hadith, arabicText, randomCollection);
                
            } catch (error) {
                console.error('Error loading hadith:', error);
                container.innerHTML = `
                    <div class="error">
                        <p>Unable to load Hadith. Please check your internet connection and try again.</p>
                    </div>
                `;
            }
        }

        function displayHadith(hadith, arabicText, collection) {
            const container = document.getElementById('hadithContainer');
            
            const collectionNames = {
                'bukhari': 'Sahih al-Bukhari',
                'muslim': 'Sahih Muslim',
                'abudawud': 'Sunan Abu Dawud',
                'tirmidhi': 'Jami` at-Tirmidhi',
                'nasai': 'Sunan an-Nasa\'i',
                'ibnmajah': 'Sunan Ibn Majah'
            };
            
            const arabicSection = arabicText ? `
                <div class="hadith-arabic">
                    ${arabicText}
                </div>
            ` : '';
            
            container.innerHTML = `
                <div class="hadith-card">
                    <div class="hadith-header">
                        <div class="hadith-number">Hadith of the Day</div>
                    </div>
                    
                    ${arabicSection}
                    
                    <div class="hadith-english">
                        ${hadith.text}
                    </div>
                    
                    <div class="hadith-reference">
                        <div class="reference-title">Reference:</div>
                        <div class="reference-text">
                            ${collectionNames[collection] || collection.charAt(0).toUpperCase() + collection.slice(1)} - 
                            Hadith ${hadith.hadithnumber || 'N/A'}
                        </div>
                    </div>
                    
                    <div class="hadith-actions">
                        <button class="btn" onclick="loadRandomHadith()">
                            ðŸ”„ Get Another Hadith
                        </button>
                        <button class="btn btn-secondary" onclick="shareHadith()">
                            ðŸ“¤ Share
                        </button>
                    </div>
                </div>
            `;
        }

        function shareHadith() {
            const hadithText = document.querySelector('.hadith-english')?.textContent || '';
            const shareText = `Daily Hadith from Islamic Hub:\n\n${hadithText}\n\nVisit: https://theislamichub.github.io`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Daily Hadith - Islamic Hub',
                    text: shareText
                }).catch(err => console.log('Error sharing:', err));
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('Hadith copied to clipboard! You can now paste and share it.');
                }).catch(err => {
                    alert('Unable to copy. Please select and copy the text manually.');
                });
            }
        }
    </script>
</body>
</html>
